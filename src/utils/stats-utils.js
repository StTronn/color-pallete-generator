/**
 * Calculates the mean value of a one-dimensional dataset
 * @param {Array} data - data set
 * @return {Number} mean value of data set
 */
function mean(data) {
  return data.reduce((total, current) => (total += current), 0) / data.length;
}

/**
 * Calculates the mean point of an n-dimensional dataset
 * @param {Array} data - data set
 * @return {Array} mean point of data set
 */
function meanPoint(data) {
  var theMeanPoint = [];
  if (data.length != 0) {
    for (let i = 0; i < data[0].length; i++) {
      theMeanPoint.push(mean(data.map((x) => x[i])));
    }
  }
  return theMeanPoint;
}

/**
 * Calculates the range of a one-dimensional data set
 * @param {Array} data - data set
 * @return {Number} range - range of the data set
 */
function rangeOf(data) {
  return data.reduce(
    function (total, current) {
      if (current < total.min) {
        total.min = current;
      }
      if (current > total.max) {
        total.max = current;
      }
      return total;
    },
    { min: data[0], max: data[0] }
  );
}

/**
 * Calculates the ranges of each 'component' in an n-dimensional data set
 * @param {Array} data - data set
 * @return {Number} range - range of the data set
 */
function rangesOf(data) {
  var ranges = [];
  for (let i = 0; i < data[0].length; i++) {
    ranges.push(rangeOf(data.map((x) => x[i])));
  }
  return ranges;
}

export { mean, meanPoint, rangeOf, rangesOf };

